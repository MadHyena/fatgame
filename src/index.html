<!DOCTYPE html>
<html>
<head>
<title>Fat Game</title>

<link rel='stylesheet' type='text/css' href='css/animate.css'>


<!-- import des librairies et des classes du jeu -->
<script src="../libs/jquery11.js" type="text/javascript"></script>
<script src="../libs/gamequery0.7.js" type="text/javascript"></script>

<script src="js/block.js" type="text/javascript"></script>
<script src="js/file.js" type="text/javascript"></script>
<script src="js/generator.js" type="text/javascript"></script>
<script src="js/graph.js" type="text/javascript"></script>
<script src="js/input.js" type="text/javascript"></script>
<script src="js/memory.js" type="text/javascript"></script>
<script src="js/memorySlot.js" type="text/javascript"></script>

<script src="js/main.js" type="text/javascript"></script>


<!-- Initialisation du jeu et de la main loop, tout se passe dans la fonction main -->
<script type="text/javascript">
	$(document).ready(function()
	{
        //premiere inclusion
        if ($(window).width() > 1280) {$("head").append("<link rel='stylesheet' type='text/css' href='css/large.css'>"); console.log("large.css first load");}
        else if ($(window).width() <= 1280 && $(window).width() > 800) {$("head").append("<link rel='stylesheet' type='text/css' href='css/medium.css'>");console.log("medium.css first load");}
        else if ($(window).width() <= 800) {$("head").append("<link rel='stylesheet' type='text/css' href='css/small.css'>");console.log("small.css first load");}
        
        //inclusion dynamique des css suivant la taille de l'ecran
        $(window).resize(function(){
            if ($(window).width() > 1280) $("head").append("<link rel='stylesheet' type='text/css' href='css/large.css'>");
            if ($(window).width() <= 1280 && $(window).width() > 800) $("head").append("<link rel='stylesheet' type='text/css' href='css/medium.css'>");
            if ($(window).width() <= 800) $("head").append("<link rel='stylesheet' type='text/css' href='css/small.css'>");
            console.log("resize css loaded");
        });

        
		$("#playground").playground(
		{
			keyTracker : true, 
			mouseTracker : true,
            height: $(window).height()-20,
            width: $(window).width()-20
            
		});
		
        $.playground().registerCallback(function()
			{
				main();
			},30);
        
		$.playground().startGame();
		
		
	});
</script>
</head>
<body>
<!-- on initialise le div qui contiendra le jeu -->
<div id="playground"></div>
</body>
</html>