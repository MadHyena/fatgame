<!DOCTYPE html>
<html>
<head>
<title>Fat Game</title>

<!-- imports des librairies et de la classe main du jeu -->
<script src="../libs/jquery11.js"></script>
<script src="../libs/gamequery0.7.js"></script>
<script src="js/main.js"></script>

<!-- Initialisation du jeu et de la main loop, tout se passe dans la fonction main -->
<script type="text/javascript">
	$(document).ready(function()
	{
        
        //inclusion des css suivant la taille de l'ecran
        $(window).resize(function(){
            if ($(window).width() > 1280) $("head").append("<link rel='stylesheet' type='text/css' href='css/large.css'>");
            if ($(window).width() <= 1280 && $(window).width() > 800) $("head").append("<link rel='stylesheet' type='text/css' href='css/medium.css'>");
            if ($(window).width() <= 800) $("head").append("<link rel='stylesheet' type='text/css' href='css/small.css'>");
            console.log("css loaded");
        });
        
        
		$("#playground").playground(
		{
			keyTracker : true, 
			mouseTracker : true
		});

		$.playground().startGame();
		
		var bg = new $.gQ.Animation({
			imageURL : "../assets/backgound.jpg",
			height : 320,
			width : 480
		});
		
		$.playground().addSprite("background",{
			animation : bg, 
			height : 320, 
			width : 480
		});
		
		$.playground().registerCallback(function()
			{
				main();
			});
	});
</script>
</head>
<body>
<!-- on initialise le div qui contiendra le jeu -->
<div id="playground"></div>
</body>
</html>